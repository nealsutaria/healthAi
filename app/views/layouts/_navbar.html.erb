<header class="bg-white shadow-sm border-b border-gray-200">
  <!-- Add the data-controller here -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8" data-controller="mobile-nav">
    <div class="flex justify-between items-center h-16">

      <!-- Logo -->
      <div>
        <%= link_to "MHBright",
              user_signed_in? ? authenticated_root_path : unauthenticated_root_path,
              class: "text-xl font-bold text-indigo-600 hover:text-indigo-700" %>
      </div>

      <!-- Hamburger (mobile only) -->
      <div class="sm:hidden">
        <button data-action="click->mobile-nav#toggle" class="text-gray-700 hover:text-indigo-600 focus:outline-none">
          ☰
        </button>
      </div>

      <!-- Nav Links (desktop) -->
      <div class="hidden sm:flex items-center space-x-4">
        <% if user_signed_in? %>
          <%= link_to "AI Health Chatbot", chat_path, class: "text-sm font-medium text-gray-700 hover:text-indigo-600" %>
          <%= link_to "My Records", records_path, class: "text-sm font-medium text-gray-700 hover:text-indigo-600" %>
          <%= link_to "➕ New Record", new_record_path, class: "text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-lg shadow-sm" %>
          <%= link_to "Log out", destroy_user_session_path, method: :delete,
                data: { turbo_method: :delete },
                class: "text-sm font-medium text-gray-700 hover:text-red-600" %>
        <% else %>
          <%= link_to "Log in", new_user_session_path, class: "text-sm font-medium text-gray-700 hover:text-indigo-600" %>
          <%= link_to "Sign up", new_user_registration_path, class: "text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-lg shadow-sm" %>
        <% end %>
      </div>
    </div>

    <!-- Mobile Dropdown -->
    <div data-mobile-nav-target="menu" class="sm:hidden hidden mt-2 space-y-2">
      <% if user_signed_in? %>
        <%= link_to "AI Health Chatbot", chat_path, class: "block text-sm font-medium text-gray-700 hover:text-indigo-600" %>
        <%= link_to "My Records", records_path, class: "block text-sm font-medium text-gray-700 hover:text-indigo-600" %>
        <%= link_to "➕ New Record", new_record_path, class: "block text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-md shadow-sm" %>
        <%= link_to "Log out", destroy_user_session_path, method: :delete,
              data: { turbo_method: :delete },
              class: "block text-sm font-medium text-red-600 hover:text-red-700" %>
      <% else %>
        <%= link_to "Log in", new_user_session_path, class: "block text-sm font-medium text-gray-700 hover:text-indigo-600" %>
        <%= link_to "Sign up", new_user_registration_path, class: "block text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-500 px-4 py-2 rounded-md shadow-sm" %>
      <% end %>
    </div>
  </div>
</header>



